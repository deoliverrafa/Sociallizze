(()=>{var e,t,o,n,r={296:(e,t,o)=>{"use strict";o.a(e,(async(e,n)=>{try{o.r(t);var r=o(534),c=o(972);async function a(e){const t=document.createElement("div");t.classList.add("container","search-friends","container-column-center");const o=document.createElement("div");o.classList.add("card","user","container","container-row-between");const n=document.createElement("div");n.classList.add("container","container-row");const a=document.createElement("img");a.classList.add("image","profile-small");const l=await(0,c.getUserImage)(e._id);"image/png"==l.type?a.src=URL.createObjectURL(l):a.src="./../../public/assets/images/user/user.png",n.appendChild(a);const i=document.createElement("div");i.classList.add("container","container-column-center");const d=document.createElement("div");d.classList.add("container","container-row"),i.appendChild(d);const u=document.createElement("p");u.classList.add("text","nick","text-bold"),u.textContent=e.nickName,d.appendChild(u);const m=document.createElement("img");m.classList.add("image","checkmark"),m.src="./../../public/assets/images/user/checkmark_blue.png",d.appendChild(m),n.appendChild(i),o.appendChild(n);const p=s("person_add","SEGUIR","add",e,"seguir"),y=document.createElement("div");y.classList.add("container","container-row"),y.appendChild(p),o.appendChild(y),t.appendChild(o),r.containers[3].appendChild(t)}async function l(e){const t=document.createElement("div");t.classList.add("container","search-friends","container-column-center");const o=document.createElement("div");o.classList.add("card","user","container","container-row-between");const n=document.createElement("div");n.classList.add("container","container-row");const a=document.createElement("img");a.classList.add("image","profile-small");const l=await(0,c.getUserImage)(e._id);"image/png"==l.type?a.src=URL.createObjectURL(l):a.src="./../../public/assets/images/user/user.png",n.appendChild(a);const i=document.createElement("div");i.classList.add("container","container-column-center");const d=document.createElement("div");d.classList.add("container","container-row"),i.appendChild(d);const u=document.createElement("p");u.classList.add("text","nick","text-bold"),u.textContent=e.nickName,d.appendChild(u);const m=document.createElement("img");m.classList.add("image","checkmark"),m.src="./../../public/assets/images/user/checkmark_blue.png",d.appendChild(m),n.appendChild(i),o.appendChild(n);const p=document.createElement("div");p.classList.add("container","container-row");const y=s("person_check","SEGUINDO","check",e,"seguindo");y.addEventListener("mouseover",(()=>{const t=s("person_remove","REMOVER","remove",e,"remover"),o=s("person_remove","REMOVIDO","remove",e,"remover");t.addEventListener("mouseout",(()=>{t.replaceWith(y)})),t.addEventListener("click",(()=>{t.replaceWith(o)})),y.replaceWith(t)})),p.appendChild(y),o.appendChild(p),t.appendChild(o),r.containers[5].appendChild(t)}function s(e,t,o,n,r){const c=document.createElement("button");c.classList.add("button",o,"button-primary");const a=document.createElement("span");return a.classList.add("icon","material-symbols-outlined"),a.textContent=e,c.appendChild(a),c.appendChild(document.createTextNode(t)),c.addEventListener("click",(async()=>{if("seguir"==r)try{const e=await fetch("https://sociallizze-api.up.railway.app/api/follow",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userIdToFollow:n._id,currentUserId:localStorage.getItem("userId")})});if(e.ok){const e=s("person_check","SEGUINDO","check",n,"seguindo");return c.replaceWith(e),void c.addEventListener("mouseover",(()=>{const e=s("person_remove","REMOVER","remove",n,"remover");c.replaceWith(e)}))}console.error("Erro ao seguir o usu치rio:",e.statusText)}catch(e){console.error("Erro ao seguir o usu치rio:",e)}if("remover"==r)try{const e=await fetch("https://sociallizze-api.up.railway.app/api/unfollow",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userIdToUnfollow:n._id,currentUserId:localStorage.getItem("userId")})});e.ok?console.log("Usuario removido com sucesso"):console.error("Erro ao remover o usu치rio:",e.statusText)}catch(e){console.log("Erro ao remover usuario",e)}})),c}async function i(e,t){let o;return function(...n){clearTimeout(o),o=setTimeout((()=>e.apply(this,n)),t)}}const d=await i((async e=>{try{if("null"==e)return;const t=await fetch(`https://sociallizze-api.up.railway.app/api/getUser?nickName=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}}),o=await t.json();r.containers[3].innerHTML="",r.containers[5].innerHTML="";const n=await m();for(const e of o)if(e._id!==n._id)if(u(n,e)){const t=l(e);t instanceof Node&&(r.containers[4].style.display="flex",r.containers[5].appendChild(t))}else{const t=a(e);t instanceof Node&&r.containers[3].appendChild(t)}}catch(e){console.log("Erro ao obter dados",e)}}),1e3);function u(e,t){return e.following&&e.following.some((e=>e===t._id))||!1}async function m(){const e=await fetch(`https://sociallizze-api.up.railway.app/api/getCurrentUser?currentUserId=${localStorage.getItem("userId")}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Erro ao obter usu치rio atual");return await e.json()}r.inputs[0].addEventListener("input",(async()=>{const e=r.inputs[0].value.trim();if(0===e.length)return r.containers[3].innerHTML="",void(r.containers[5].innerHTML="");d(e)})),n()}catch(p){n(p)}}),1)},972:(e,t,o)=>{"use strict";async function n(e){if(!e)return null;try{const t=await fetch(`https://sociallizze-api.up.railway.app/api/getUserImage?userId=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});return await t.blob()}catch(e){return alert(e.message),console.log(e),null}}o.d(t,{getUserImage:()=>n}),localStorage.getItem("userId"),localStorage.getItem("userLoggedIn")},355:(e,t,o)=>{const n=o(296);e.exports={friendsController:n}},534:(e,t,o)=>{"use strict";o.d(t,{containers:()=>n,inputs:()=>r}),document.querySelectorAll(".icon-close"),document.querySelectorAll(".icon"),document.querySelectorAll(".modal"),document.querySelectorAll(".left-bar"),document.querySelectorAll(".card");const n=document.querySelectorAll(".container"),r=(document.querySelectorAll(".text-error"),document.querySelectorAll(".input"));document.querySelectorAll(".checkbox"),document.querySelectorAll(".text-checkbox"),document.querySelectorAll(".link"),document.querySelectorAll(".linkRegister"),document.querySelectorAll(".buttonSelect"),document.querySelectorAll(".button"),document.querySelectorAll(".buttonSubmit"),document.querySelectorAll(".text-success"),document.querySelectorAll(".item"),document.querySelectorAll(".logo"),document.querySelectorAll(".nick"),document.querySelectorAll(".name"),document.querySelectorAll(".text.bio"),document.querySelectorAll(".bio"),document.querySelectorAll(".button.logout"),document.querySelectorAll(".image.profile"),document.querySelectorAll(".fab"),document.querySelectorAll(".header"),document.querySelectorAll(".alt"),document.querySelectorAll(".cancel"),document.querySelectorAll(".save"),document.querySelectorAll(".date"),document.querySelectorAll(".edit"),document.querySelectorAll(".select"),document.querySelectorAll(".text.nationality"),document.querySelectorAll(".text.birthday"),document.querySelectorAll(".text.number"),document.querySelectorAll(".text.email")}},c={};function a(e){var t=c[e];if(void 0!==t)return t.exports;var o=c[e]={exports:{}};return r[e](o,o.exports,a),o.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",o="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},a.a=(r,c,a)=>{var l;a&&((l=[]).d=-1);var s,i,d,u=new Set,m=r.exports,p=new Promise(((e,t)=>{d=t,i=e}));p[t]=m,p[e]=e=>(l&&e(l),u.forEach(e),p.catch((e=>{}))),r.exports=p,c((r=>{var c;s=(r=>r.map((r=>{if(null!==r&&"object"==typeof r){if(r[e])return r;if(r.then){var c=[];c.d=0,r.then((e=>{a[t]=e,n(c)}),(e=>{a[o]=e,n(c)}));var a={};return a[e]=e=>e(c),a}}var l={};return l[e]=e=>{},l[t]=r,l})))(r);var a=()=>s.map((e=>{if(e[o])throw e[o];return e[t]})),i=new Promise((t=>{(c=()=>t(a)).r=0;var o=e=>e!==l&&!u.has(e)&&(u.add(e),e&&!e.d&&(c.r++,e.push(c)));s.map((t=>t[e](o)))}));return c.r?i:a()}),(e=>(e?d(p[o]=e):i(m),n(l)))),l&&l.d<0&&(l.d=0)},a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a(355)})();