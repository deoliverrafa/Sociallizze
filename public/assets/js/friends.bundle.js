(()=>{var e,t,o,r,n={296:(e,t,o)=>{"use strict";o.a(e,(async(e,r)=>{try{o.r(t);var n=o(534),c=o(972);const l=document.querySelectorAll(".logo.rotate"),a=document.getElementById("loader");async function i(e,t,o,r){const n=o?6:4,l=document.createElement("div");l.classList.add("container","search-friends","container-column-center");const a=document.createElement("div");a.classList.add("card","user","container","container-row-between");const i=document.createElement("div");i.classList.add("container","container-row-between");const u=document.createElement("img");u.classList.add("image","profile-small");const d=await(0,c.getUserImage)(t);"image/png"===d.type?u.src=URL.createObjectURL(d):u.src="./../../public/assets/images/user/user.png",i.appendChild(u);const p=document.createElement("div");p.classList.add("container","container-column-center");const m=document.createElement("div");m.classList.add("container","container-row"),p.appendChild(m);const y=document.createElement("p");y.classList.add("text","nick","text-bold"),y.textContent=e,m.appendChild(y);const h=document.createElement("img");h.classList.add("image","checkmark"),h.src="./../../public/assets/images/user/checkmark_blue.png",m.appendChild(h),i.appendChild(p),a.appendChild(i);const f=document.createElement("div");f.classList.add("container","container-row");const S=s(o?"person_check":"person_add",o?"SEGUINDO":"SEGUIR",o?"check":"add",t,o?"seguindo":"seguir");S.addEventListener("mouseover",(()=>{if(o){const e=s("person_remove","REMOVENDO...","remove",t,"remover");S.replaceWith(e),e.addEventListener("mouseout",(()=>{e.replaceWith(S)})),e.addEventListener("click",(async()=>{try{const o=await fetch("https://sociallizze-api.up.railway.app/api/unfollow",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userIdToUnfollow:t,currentUserId:localStorage.getItem("userId")})});if(o.ok){const o=s("person_remove","REMOVIDO","removed",t,"removed");e.replaceWith(o)}else console.error("Erro ao remover o usuário:",o.statusText)}catch(e){console.log("Erro ao remover usuário",e)}}))}})),f.appendChild(S),a.appendChild(f),l.appendChild(a),r[n].appendChild(l)}function s(e,t,o,r,n){const c=document.createElement("button");c.classList.add("button",o,"button-primary");const l=document.createElement("span");return l.classList.add("icon","material-symbols-outlined"),l.textContent=e,c.appendChild(l),c.appendChild(document.createTextNode(t)),c.addEventListener("click",(async()=>{if("seguir"==n)try{const e=await fetch("https://sociallizze-api.up.railway.app/api/follow",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userIdToFollow:r,currentUserId:localStorage.getItem("userId")})});if(e.ok){const e=s("person_check","SEGUINDO","check",r,"seguindo");return void c.replaceWith(e)}console.error("Erro ao seguir o usuário:",e.statusText)}catch(e){console.error("Erro ao seguir o usuário:",e)}if("remover"==n)try{const e=await fetch("https://sociallizze-api.up.railway.app/api/unfollow",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userIdToUnfollow:r,currentUserId:localStorage.getItem("userId")})});e.ok?console.log("Usuario removido com sucesso"):console.error("Erro ao remover o usuário:",e.statusText)}catch(e){console.log("Erro ao remover usuario",e)}})),c}a.style.display="none",console.log(n.containers);const u=await m((async e=>{try{if("null"==e)return;a.style.display="flex",l[0].style.animation="rotate .3s infinite linear";const t=await fetch(`https://sociallizze-api.up.railway.app/api/getUser?nickName=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}}),o=await t.json();n.containers[4].innerHTML="",n.containers[6].innerHTML="";const r=await p();a.style.display="none",l[0].style.animation="none";for(const e of o)if(e._id!==r._id)if(d(r,e)){const t=await i(e.nickName,e._id,!0,n.containers);t instanceof Node&&n.containers[6].appendChild(t)}else{const t=await i(e.nickName,e._id,!1,n.containers);t instanceof Node&&n.containers[4].appendChild(t)}}catch(e){console.log("Erro ao obter dados",e)}}),1200);function d(e,t){return e.following&&e.following.some((e=>e===t._id))||!1}async function p(){const e=await fetch(`https://sociallizze-api.up.railway.app/api/getCurrentUser?currentUserId=${c.localUserId}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Erro ao obter usuário atual");return await e.json()}async function m(e,t){let o;return function(...r){clearTimeout(o),o=setTimeout((()=>e.apply(this,r)),t)}}n.inputs[0].addEventListener("input",(async()=>{const e=n.inputs[0].value.trim(),t=n.containers;if(0===e.length)return n.containers[4].innerHTML="",void(n.containers[6].innerHTML="");u(e,t)})),r()}catch(y){r(y)}}),1)},972:(e,t,o)=>{"use strict";o.d(t,{getUserImage:()=>n,localUserId:()=>r});let r=localStorage.getItem("userId");async function n(e){if(!e)return null;try{const t=await fetch(`https://sociallizze-api.up.railway.app/api/getUserImage?userId=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});return await t.blob()}catch(e){return alert(e.message),console.log(e),null}}localStorage.getItem("userLoggedIn")},355:(e,t,o)=>{const r=o(296);e.exports={friendsController:r}},534:(e,t,o)=>{"use strict";o.d(t,{containers:()=>r,inputs:()=>n}),document.querySelector("body"),document.querySelector("p"),document.querySelectorAll(".icon-close"),document.querySelectorAll(".icon"),document.querySelectorAll(".modal"),document.querySelectorAll(".left-bar"),document.querySelectorAll(".card");const r=document.querySelectorAll(".container"),n=(document.querySelectorAll(".text-error"),document.querySelectorAll(".input"));document.querySelectorAll(".checkbox"),document.querySelectorAll(".text-checkbox"),document.querySelectorAll(".text"),document.querySelectorAll(".link"),document.querySelectorAll(".linkRegister"),document.querySelectorAll(".buttonSelect"),document.querySelectorAll(".button"),document.querySelectorAll(".buttonSubmit"),document.querySelectorAll(".text-success"),document.querySelectorAll(".item"),document.querySelectorAll(".logo"),document.querySelectorAll(".nick"),document.querySelectorAll(".name"),document.querySelectorAll(".text.bio"),document.querySelectorAll(".bio"),document.querySelectorAll(".button.logout"),document.querySelectorAll(".image.profile"),document.querySelectorAll(".fab"),document.querySelectorAll(".header"),document.querySelectorAll(".alt"),document.querySelectorAll(".cancel"),document.querySelectorAll(".save"),document.querySelectorAll(".date"),document.querySelectorAll(".edit"),document.querySelectorAll(".select"),document.querySelectorAll(".text.nationality"),document.querySelectorAll(".text.birthday"),document.querySelectorAll(".text.number"),document.querySelectorAll(".text.email")}},c={};function l(e){var t=c[e];if(void 0!==t)return t.exports;var o=c[e]={exports:{}};return n[e](o,o.exports,l),o.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",o="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},l.a=(n,c,l)=>{var a;l&&((a=[]).d=-1);var i,s,u,d=new Set,p=n.exports,m=new Promise(((e,t)=>{u=t,s=e}));m[t]=p,m[e]=e=>(a&&e(a),d.forEach(e),m.catch((e=>{}))),n.exports=m,c((n=>{var c;i=(n=>n.map((n=>{if(null!==n&&"object"==typeof n){if(n[e])return n;if(n.then){var c=[];c.d=0,n.then((e=>{l[t]=e,r(c)}),(e=>{l[o]=e,r(c)}));var l={};return l[e]=e=>e(c),l}}var a={};return a[e]=e=>{},a[t]=n,a})))(n);var l=()=>i.map((e=>{if(e[o])throw e[o];return e[t]})),s=new Promise((t=>{(c=()=>t(l)).r=0;var o=e=>e!==a&&!d.has(e)&&(d.add(e),e&&!e.d&&(c.r++,e.push(c)));i.map((t=>t[e](o)))}));return c.r?s:l()}),(e=>(e?u(m[o]=e):s(p),r(a)))),a&&a.d<0&&(a.d=0)},l.d=(e,t)=>{for(var o in t)l.o(t,o)&&!l.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l(355)})();