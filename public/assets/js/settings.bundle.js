(()=>{var e={785:(e,t,o)=>{"use strict";o.r(t),document.querySelector("body"),document.querySelector("p"),document.querySelectorAll(".icon-close"),document.querySelectorAll(".icon"),document.querySelectorAll(".modal"),document.querySelectorAll(".left-bar"),document.querySelectorAll(".card");const l=document.querySelectorAll(".container"),n=document.querySelectorAll(".text-error"),r=document.querySelectorAll(".input"),c=document.querySelectorAll(".checkbox"),a=(document.querySelectorAll(".text-checkbox"),document.querySelectorAll(".text"),document.querySelectorAll(".link")),s=(document.querySelectorAll(".linkRegister"),document.querySelectorAll(".buttonSelect"),document.querySelectorAll(".button")),i=(document.querySelectorAll(".buttonSubmit"),document.querySelectorAll(".text-success")),d=document.querySelectorAll(".modal.success");document.querySelectorAll(".item"),document.querySelectorAll(".logo"),document.querySelectorAll(".nick"),document.querySelectorAll(".name"),document.querySelectorAll(".text.bio"),document.querySelectorAll(".bio"),document.querySelectorAll(".button.logout"),document.querySelectorAll(".image.profile"),document.querySelectorAll(".fab"),document.querySelectorAll(".header"),document.querySelectorAll(".alt"),document.querySelectorAll(".cancel"),document.querySelectorAll(".save"),document.querySelectorAll(".date"),document.querySelectorAll(".edit"),document.querySelectorAll(".select"),document.querySelectorAll(".text.nationality"),document.querySelectorAll(".text.birthday"),document.querySelectorAll(".text.number"),document.querySelectorAll(".text.email");let y,u,m,h=e=>{d[0].style.display="flex",i[0].innerHTML=e,setTimeout((()=>{d[0].style.display="none",window.location.reload()}),1500)},p=localStorage.getItem("userId"),S=localStorage.getItem("userLoggedIn");const f=document.querySelectorAll(".logo.rotate"),g=document.getElementById("loader"),q=document.querySelectorAll(".card");d[0].style.display="none",s[0].style.display="none",s[1].style.display="none",l[5].style.display="none",l[6].style.display="none",l[7].style.display="none",document.addEventListener("DOMContentLoaded",(async()=>{q[0].style.display="none",g.style.display="flex",f[0].style.animation="rotate .3s infinite linear",loader.style.display="flex",1==await async function(){let e;return e="null"!=p&&"false"!=S,e}()?(y=await async function(e,t){const o=`https://sociallizze-api.up.railway.app/api/searchById?id=${e}&fields=showEmail,showBirthDayData,showNacionality,showPhoneNumber`;try{const e=await fetch(o,{method:"GET",headers:{"Content-Type":"application/json"}});return e.ok?await e.json():(console.log("Erro ao pegar dados do usuário"),null)}catch(e){return console.log("Erro ao pegar userData",e),null}}(p),console.log(y),c[0].checked=y.showNacionality,c[1].checked=y.showBirthDayData,c[2].checked=y.showPhoneNumber,c[3].checked=y.showEmail,q[0].style.display="flex",g.style.display="none",f[0].style.animation="none",loader.style.display="none"):window.location.href="index.html"})),c[0].addEventListener("change",(async()=>{const e=c[0].checked;try{const t=await fetch("https://sociallizze-api.up.railway.app/api/modifySettings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({nacionality:e,localUserId:p})}),o=await t.json();o.error&&console.log("Erro",o.error)}catch(e){console.log("Erro na requisição:",e)}})),c[1].addEventListener("change",(async()=>{const e=c[1].checked;try{const t=await fetch("https://sociallizze-api.up.railway.app/api/modifySettings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({birthDayData:e,localUserId:p})}),o=await t.json();o.error&&console.log("Erro",o.error)}catch(e){console.log("Erro na requisição:",e)}})),c[2].addEventListener("change",(async()=>{const e=c[2].checked;try{const t=await fetch("https://sociallizze-api.up.railway.app/api/modifySettings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:e,localUserId:p})}),o=await t.json();o.error&&console.log("Erro",o.error)}catch(e){console.log("Erro na requisição:",e)}})),c[3].addEventListener("change",(async()=>{const e=c[3].checked;try{const t=await fetch("https://sociallizze-api.up.railway.app/api/modifySettings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,localUserId:p})}),o=await t.json();o.error&&console.log("Erro",o.error)}catch(e){console.log("Erro na requisição:",e)}})),a[0].addEventListener("click",(async()=>{l[5].style.display="flex",l[6].style.display="flex",s[0].style.display="flex",s[1].style.display="none",r[0].addEventListener("input",(function(){u=this.value})),r[1].addEventListener("input",(function(){m=this.value})),s[0].addEventListener("click",(async()=>{try{const e={password:u,localUserId:p,newPassword:m},t=await fetch("https://sociallizze-api.up.railway.app/api/modifyPassword",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),o=await t.json();console.log(o),o.error?(l[7].style.display="flex",n[0].innerHTML=o.error):(h("Senha alterada com sucesso"),r[0].value="",r[1].value="")}catch(e){console.log("Error",e)}}))})),a[1].addEventListener("click",(async()=>{l[5].style.display="flex",l[6].style.display="none",s[0].style.display="none",s[1].style.display="flex",r[0].addEventListener("input",(function(){u=this.value})),s[1].addEventListener("click",(async()=>{try{const e={password:u,localUserId:p},t=(await fetch("https://sociallizze-api.up.railway.app/api/delAccount",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();t.error?(l[7].style.display="flex",n[0].innerHTML=t.error):(h("Conta Excluida"),"null",localStorage.setItem("userId","null"),localStorage.setItem("userLoggedIn","false"),window.location.href="../../index.html")}catch(e){l[7].style.display="flex",n[0].innerHTML=e}}))}))},5:(e,t,o)=>{const l=o(785);e.exports={settingsController:l}}},t={};function o(l){var n=t[l];if(void 0!==n)return n.exports;var r=t[l]={exports:{}};return e[l](r,r.exports,o),r.exports}o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o(5)})();