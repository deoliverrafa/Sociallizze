(()=>{var e,t,l,o,n={238:(e,t,l)=>{"use strict";l.r(t),l.d(t,{getUserData:()=>r,userId:()=>a,userLoggedIn:()=>s});var o=l(534);let n=0;const s=localStorage.getItem("userLoggedIn"),a=localStorage.getItem("userId");function r(){return fetch(`http://localhost:3000/api/searchById?id=${a}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e?e.json():(console.log("Erro ao pegar dados do usuÃ¡rio"),null))).then((e=>e)).catch((e=>(console.log("Erro ao pegar userData",e),null)))}document.addEventListener("DOMContentLoaded",(()=>{"true"==s&&null==localStorage.getItem("userId")&&localStorage.setItem("userLoggedIn","false"),"true"!==s?(0,o.LS)():(0,o.uO)()})),document.querySelector(".form").addEventListener("submit",(function(e){e.preventDefault();const t=new FormData(e.target),l=t.get("email"),n=t.get("password");fetch(`http://localhost:3000/api/usuarios?email=${l}&password=${n}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{e.error?(o.cJ[0].style.display="flex",o.cJ[0].querySelector(".text-error").innerHTML=e.error):(localStorage.setItem("userEmail",e.email),localStorage.setItem("userName",e.nickName),localStorage.setItem("userId",e._id),localStorage.setItem("userLoggedIn","true"),(0,o.uO)(),o.qk[3].style.display="flex",o.Up[0].innerHTML="Conta logada com sucesso!!!",setTimeout((()=>{window.location.href="index.html"}),1500))}))})),o.n[0].addEventListener("change",(()=>{o.n[0].checked?o.FU[1].type="text":o.FU[1].type="password"})),o.n[1].addEventListener("change",(()=>{o.n[1].checked?o.FU[6].type="text":o.FU[6].type="password"})),o.XP[0].addEventListener("click",(()=>{(0,o.uO)()})),o.XP[1].addEventListener("click",(()=>{(0,o.A$)()})),o.Mh[1].addEventListener("click",(()=>{(0,o.A$)(),(0,o.LS)(),n=0})),o.Mh[0].addEventListener("click",(()=>{(0,o.uO)(),(0,o.xU)()})),o.HC[1].addEventListener("click",(()=>{n--,(0,o.TF)(n)})),o.HC[0].addEventListener("click",(()=>{n++,(0,o.F2)(n)})),0==n&&(o.HC[1].style.display="none",o.S1[1].style.display="none",o.FU[4].style.display="none",o.FU[5].style.display="none",o.FU[6].style.display="none",o.IY[1].style.display="none",o.cJ[1].style.display="none")},599:(e,t,l)=>{"use strict";l.a(e,(async(e,o)=>{try{l.r(t);var n=l(534),s=l(238);if(null!=s.userId||"true"==s.userLoggedIn){const i=await(0,s.getUserData)();i&&(n.LM[0].innerHTML=i.nickName,n.LM[1].innerHTML=i.nickName);const c=await r();if(c){const d=URL.createObjectURL(c);n.tz[0].src=d,n.tz[1].src=d}}async function a(){localStorage.setItem("userLoggedIn","false"),localStorage.setItem("userId","null")}async function r(){const e=localStorage.getItem("userId");if(!e)return null;try{const t=await fetch(`http://localhost:3000/api/getUserImage?userId=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});return await t.blob()}catch(e){return alert(e.message),console.log(e),null}}n.SV[0].addEventListener("click",(async()=>{a(),window.location.href="index.html"})),document.getElementById("avatarForm").addEventListener("submit",(async e=>{e.preventDefault();const t=new FormData;t.append("avatar",document.getElementById("avatarInput").files[0]);const l=localStorage.getItem("userId");await fetch(`http://localhost:3000/api/updateAvatar?userId=${l}`,{method:"PUT",body:t}).then((e=>(e.ok||alert("Erro ao atualizar a imagem de perfil"),e.json()))).then((e=>{e.error?(alert("Erro ao pegar dados"),console.log(e.error)):alert("Foto de perfil atualizada com sucesso")})).catch((e=>{alert(e.message),console.log(e.error)}))})),o()}catch(y){o(y)}}),1)},67:(e,t,l)=>{"use strict";l.r(t);var o=l(534);const n=document.querySelector(".date"),s=o.FU[2],a=o.FU[3],r=o.FU[4],i=o.FU[5],c=o.FU[6];let d;const y=localStorage.getItem("userLoggedIn");document.addEventListener("DOMContentLoaded",(()=>{"true"!==y&&void 0===d?(0,o.LS)():(0,o.uO)()})),o.ZY[1].addEventListener("click",(e=>{e.preventDefault();let t={nickName:s.value,userName:a.value,phoneNumber:r.value,email:i.value,password:c.value,birthDayData:n.value,type:"default"};fetch("http://localhost:3000/api/cadastrar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>(e.ok,e.json()))).then((e=>{e.error?(o.cJ[2].style.display="flex",o.Mn[1].innerHTML=e.error):(d=e._id,localStorage.setItem("userLoggedIn","true"),localStorage.setItem("userId",d),(0,o.A$)(),o.qk[3].style.display="flex",o.Up[0].innerHTML="Conta Registrada com sucesso!!!")}))})),o.XP[3].addEventListener("click",(()=>{o.qk[3].style.animation="closeOpacityModal .3s ease-in-out forwards",o._u[2].style.animation="closeSmoothUpCard .5s ease-in-out forwards",setTimeout((()=>{o.qk[3].style.display="none"}),300)}))},427:(e,t,l)=>{const o=l(238),n=l(67),s=l(599);e.exports={profileController:s,loginController:o,registerController:n}},534:(e,t,l)=>{"use strict";l.d(t,{A$:()=>L,F2:()=>b,FU:()=>i,HC:()=>u,IY:()=>d,LM:()=>g,LS:()=>I,Mh:()=>y,Mn:()=>r,S1:()=>m,SV:()=>S,TF:()=>w,Up:()=>f,XP:()=>o,ZY:()=>p,_u:()=>s,cJ:()=>a,n:()=>c,qk:()=>n,tz:()=>h,uO:()=>x,xU:()=>v});const o=document.querySelectorAll(".icon-close"),n=(document.querySelectorAll(".icon"),document.querySelectorAll(".modal")),s=(document.querySelectorAll(".left-bar"),document.querySelectorAll(".card")),a=document.querySelectorAll(".container"),r=document.querySelectorAll(".text-error"),i=document.querySelectorAll(".input"),c=document.querySelectorAll(".checkbox"),d=document.querySelectorAll(".text-checkbox"),y=(document.querySelectorAll(".link"),document.querySelectorAll(".linkRegister")),u=document.querySelectorAll(".buttonSelect"),p=document.querySelectorAll(".button"),m=document.querySelectorAll(".buttonSubmit"),f=document.querySelectorAll(".text-success"),g=(document.querySelectorAll(".item"),document.querySelectorAll(".logo"),document.querySelectorAll(".nick")),S=(document.querySelectorAll(".bio"),document.querySelectorAll(".more"),document.querySelectorAll(".button.logout")),h=document.querySelectorAll(".image.profile");let I=()=>{n[0].style.display="flex",n[0].style.animation="opacityModal .3s ease-in-out forwards",s[0].style.animation="smoothUpCard .5s ease-in-out forwards"},v=()=>{n[1].style.display="flex",n[1].style.animation="opacityModal .3s ease-in-out forwards",s[1].style.animation="smoothUpCard .5s ease-in-out forwards"},x=()=>{s[0].style.animation="closeSmoothUpCard .5s ease-in-out forwards",n[0].style.animation="closeOpacityModal .3s ease-in-out forwards",setTimeout((()=>{n[0].style.display="none"}),300)},L=()=>{n[1].style.animation="closeOpacityModal .3s ease-in-out forwards",s[1].style.animation="closeSmoothUpCard .5s ease-in-out forwards",setTimeout((()=>{n[1].style.display="none"}),300)},b=e=>{1==e&&(u[1].style.display="flex",u[1].style.justifyContent="center",u[1].style.alignItems="center",i[2].style.display="none",i[3].style.display="none",i[4].style.display="flex",i[5].style.display="flex",i[6].style.display="flex",d[1].style.display="flex",a[1].style.display="none"),2==e&&(u[1].style.display="flex",u[1].style.justifyContent="center",u[1].style.alignItems="center",u[0].style.display="none",m[1].style.display="flex",m[1].style.justifyContent="center",m[1].style.alignItems="center",i[2].style.display="none",i[3].style.display="none",i[4].style.display="none",i[5].style.display="none",i[6].style.display="none",d[1].style.display="none",a[1].style.display="flex",a[1].style.flexDirection="column",a[1].style.justifyContent="center",a[1].style.alignItems="center")},w=e=>{0==e&&(u[1].style.display="none",m[1].style.display="none",i[2].style.display="flex",i[3].style.display="flex",i[4].style.display="none",i[5].style.display="none",i[6].style.display="none",d[1].style.display="none",a[1].style.display="none"),1==e&&(u[0].style.display="flex",u[0].style.justifyContent="center",u[0].style.alignItems="center",u[1].style.display="flex",u[1].style.justifyContent="center",u[1].style.alignItems="center",m[1].style.display="none",m[1].style.justifyContent="center",m[1].style.alignItems="center",i[2].style.display="none",i[3].style.display="none",i[4].style.display="flex",i[5].style.display="flex",i[6].style.display="flex",d[1].style.display="flex",a[1].style.display="none")}}},s={};function a(e){var t=s[e];if(void 0!==t)return t.exports;var l=s[e]={exports:{}};return n[e](l,l.exports,a),l.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",l="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",o=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},a.a=(n,s,a)=>{var r;a&&((r=[]).d=-1);var i,c,d,y=new Set,u=n.exports,p=new Promise(((e,t)=>{d=t,c=e}));p[t]=u,p[e]=e=>(r&&e(r),y.forEach(e),p.catch((e=>{}))),n.exports=p,s((n=>{var s;i=(n=>n.map((n=>{if(null!==n&&"object"==typeof n){if(n[e])return n;if(n.then){var s=[];s.d=0,n.then((e=>{a[t]=e,o(s)}),(e=>{a[l]=e,o(s)}));var a={};return a[e]=e=>e(s),a}}var r={};return r[e]=e=>{},r[t]=n,r})))(n);var a=()=>i.map((e=>{if(e[l])throw e[l];return e[t]})),c=new Promise((t=>{(s=()=>t(a)).r=0;var l=e=>e!==r&&!y.has(e)&&(y.add(e),e&&!e.d&&(s.r++,e.push(s)));i.map((t=>t[e](l)))}));return s.r?c:a()}),(e=>(e?d(p[l]=e):c(u),o(r)))),r&&r.d<0&&(r.d=0)},a.d=(e,t)=>{for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a(427)})();